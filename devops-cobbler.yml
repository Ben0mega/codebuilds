# These are the steps used in a container-based build in VSTS.
steps:    
- task: Docker@0
  displayName: Cobbler
  inputs:
    action: 'Run an image'
    command: 'run'
    imageName: 'headmelted/cobbler:${{ parameters.strategy }}-${{ parameters.arch }}'
    ports: 8084
    volumes: |
     $(Build.SourcesDirectory):/root/code
     $(Build.BinariesDirectory):/root/output
    envVars:
      COBBLER_GIT_ENDPOINT=${{ parameters.git }}
    workDir: /root
    detached: false
